<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Einheitenumrechner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .converter {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .input-group {
            margin-bottom: 1rem;
        }

        select, input {
            width: 100%;
            padding: 0.5rem;
            margin-top: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            color: #666;
        }

        #result {
            margin-top: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 4px;
            text-align: center;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="converter">
        <h1>Einheitenumrechner</h1>
        
        <div class="input-group">
            <label for="category">Kategorie:</label>
            <select id="category" onchange="updateUnits()">
                <option value="length">Länge</option>
                <option value="weight">Gewicht</option>
                <option value="temperature">Temperatur</option>
            </select>
        </div>

        <div class="input-group">
            <label for="fromUnit">Von:</label>
            <select id="fromUnit"></select>
        </div>

        <div class="input-group">
            <label for="toUnit">Nach:</label>
            <select id="toUnit"></select>
        </div>

        <div class="input-group">
            <label for="value">Wert:</label>
            <input type="number" id="value" oninput="convert()" value="1">
        </div>

        <div id="result">
            Ergebnis wird hier angezeigt
        </div>
    </div>

    <script>
        const units = {
            length: {
                meter: 1,
                kilometer: 1000,
                centimeter: 0.01,
                millimeter: 0.001,
                inch: 0.0254,
                foot: 0.3048,
                yard: 0.9144,
                mile: 1609.344
            },
            weight: {
                kilogram: 1,
                gram: 0.001,
                milligram: 0.000001,
                pound: 0.45359237,
                ounce: 0.028349523125
            },
            temperature: {
                celsius: 'C',
                fahrenheit: 'F',
                kelvin: 'K'
            }
        };

        function updateUnits() {
            const category = document.getElementById('category').value;
            const fromSelect = document.getElementById('fromUnit');
            const toSelect = document.getElementById('toUnit');
            
            // Lösche alte Optionen
            fromSelect.innerHTML = '';
            toSelect.innerHTML = '';
            
            // Füge neue Optionen hinzu
            for (const unit in units[category]) {
                fromSelect.add(new Option(unit, unit));
                toSelect.add(new Option(unit, unit));
            }
            
            convert();
        }

        function convert() {
            const category = document.getElementById('category').value;
            const fromUnit = document.getElementById('fromUnit').value;
            const toUnit = document.getElementById('toUnit').value;
            const value = parseFloat(document.getElementById('value').value);
            
            let result;
            
            if (category === 'temperature') {
                result = convertTemperature(value, fromUnit, toUnit);
            } else {
                result = value * units[category][fromUnit] / units[category][toUnit];
            }
            
            document.getElementById('result').textContent = 
                `${value} ${fromUnit} = ${result.toFixed(4)} ${toUnit}`;
        }

        function convertTemperature(value, from, to) {
            // Erst nach Celsius konvertieren
            let celsius;
            if (from === 'celsius') {
                celsius = value;
            } else if (from === 'fahrenheit') {
                celsius = (value - 32) * 5/9;
            } else if (from === 'kelvin') {
                celsius = value - 273.15;
            }
            
            // Dann von Celsius zur Zieleinheit
            if (to === 'celsius') {
                return celsius;
            } else if (to === 'fahrenheit') {
                return celsius * 9/5 + 32;
            } else if (to === 'kelvin') {
                return celsius + 273.15;
            }
        }

        // Initial units setzen
        updateUnits();
    </script>
</body>
</html>
